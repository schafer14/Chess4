"use strict";var ApplicationConfiguration=function(){var applicationModuleName="mean",applicationModuleVendorDependencies=["ngResource","ngCookies","ngAnimate","ngTouch","ngSanitize","ui.router","ui.bootstrap","ui.utils"],registerModule=function(moduleName,dependencies){angular.module(moduleName,dependencies||[]),angular.module(applicationModuleName).requires.push(moduleName)};return{applicationModuleName:applicationModuleName,applicationModuleVendorDependencies:applicationModuleVendorDependencies,registerModule:registerModule}}();angular.module(ApplicationConfiguration.applicationModuleName,ApplicationConfiguration.applicationModuleVendorDependencies),angular.module(ApplicationConfiguration.applicationModuleName).config(["$locationProvider",function($locationProvider){$locationProvider.hashPrefix("!")}]),angular.element(document).ready(function(){"#_=_"===window.location.hash&&(window.location.hash="#!"),angular.bootstrap(document,[ApplicationConfiguration.applicationModuleName])}),ApplicationConfiguration.registerModule("core"),angular.module("core").constant("Config",{standard:"1001 1101 1201 1301 1401 1501 1601 17016000 6100 6200 6300 6400 6500 6600 67000031 0111 0221 0341 0451 0521 0611 07317030 7110 7220 7340 7450 7520 7610 7730"}),angular.module("core").config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("home",{url:"/",templateUrl:"modules/core/views/home.client.view.html"})}]),angular.module("core").controller("HomeController",["$scope","Board",function($scope,Board){$scope.myBoard=new Board}]),angular.module("core").directive("board",[function(){return{templateUrl:"modules/core/templates/board.client.template.html",restrict:"E",scope:{provider:"="},link:function(scope){scope.squareIter=new Array(scope.provider.squaresPerSide);var groupsOfFourRegex=/..../g;scope.drawBoard=function(board){if(angular.isUndefined(board))return!1;scope.squares={};var pieces=board.match(groupsOfFourRegex);angular.forEach(pieces,function(piece){scope.squares[piece.substring(0,2)]=piece[2]+piece[3]})},scope.$watch("provider.toString()",function(){scope.drawBoard(scope.provider.toString())})}}}]),angular.module("core").factory("Bishop",[function(){function pad(str,max){return str=str.toString(),str.length<max?pad("0"+str,max):str}var Bishop=function(options){this.square=options.square,this.color=options.color};return Bishop.prototype.toString=function(){return pad(this.square,2)+"2"+this.color},Bishop}]),angular.module("core").factory("Board",["Config","Pawn","Knight","Bishop","Rook","Queen","King",function(Config,Pawn,Knight,Bishop,Rook,Queen,King){var pieceMapper=[Pawn,Knight,Bishop,Rook,Queen,King],Board=function(options){var self=this;options=options||{},self.pieces=[],self.squaresPerSide=options.squaresPerSide||8,self.state=options.state||Config.standard.replace(/ /g,""),angular.forEach(self.state.match(/..../g),function(piece){self.pieces.push(new pieceMapper[piece[2]]({color:piece[3],square:piece.substring(0,2)}))})};return Board.prototype.toString=function(){var self=this;return self.pieces.map(function(piece){return piece.toString()}).join("")},Board}]),angular.module("core").factory("King",[function(){function pad(str,max){return str=str.toString(),str.length<max?pad("0"+str,max):str}var King=function(options){this.square=options.square,this.color=options.color};return King.prototype.toString=function(){return pad(this.square,2)+"5"+this.color},King}]),angular.module("core").factory("Knight",[function(){function pad(str,max){return str=str.toString(),str.length<max?pad("0"+str,max):str}var Knight=function(options){this.square=options.square,this.color=options.color};return Knight.prototype.toString=function(){return pad(this.square,2)+"1"+this.color},Knight}]),angular.module("core").factory("Pawn",[function(){function pad(str,max){return str=str.toString(),str.length<max?pad("0"+str,max):str}var Pawn=function(options){this.square=options.square,this.color=options.color};return Pawn.prototype.toString=function(){return pad(this.square,2)+"0"+this.color},Pawn}]),angular.module("core").factory("Queen",[function(){function pad(str,max){return str=str.toString(),str.length<max?pad("0"+str,max):str}var Queen=function(options){this.square=options.square,this.color=options.color};return Queen.prototype.toString=function(){return pad(this.square,2)+"4"+this.color},Queen}]),angular.module("core").factory("Rook",[function(){function pad(str,max){return str=str.toString(),str.length<max?pad("0"+str,max):str}var Rook=function(options){this.square=options.square,this.color=options.color};return Rook.prototype.toString=function(){return pad(this.square,2)+"3"+this.color},Rook}]);